import{a as L,S as b,i as m}from"./assets/vendor-BwXjtuc1.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function i(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(e){if(e.ep)return;e.ep=!0;const o=i(e);fetch(e.href,o)}})();async function f(t,s){return console.log(t),console.log(s),await L.get(`https://pixabay.com/api/?q=${t}&image_type=photo&orientation=horizontal&safesearch=true&key=47380819-2a2ad5e165b633e18b6fd0fd3`,{params:{page:s,per_page:15}})}function h(t){return t.map(({webformatURL:s,largeImageURL:i,tags:r,likes:e,views:o,comments:l,downloads:y})=>`<li class="list-item" >
  <a href="${i}" alt="${r}" title=""/>
    <img src="${s}" alt="${r}" class="img-item">
  <div class="list-container">
  <p class="item"><span class="item-text">Likes</span> <span>${e}</span></p>
  <p class="item"><span class="item-text">Wiews</span> <span>${o}</span></p>
  <p class="item"><span class="item-text">Comments</span> <span>${l}</span></p>
  <p class="item"><span class="item-text">Downlods</span> <span>${y}</span></p>
  </div></a>
</li>`).join("")}const g=new b(".list-js a",{captionsData:"alt",captionDelay:250,captionClass:"imageTitle"}),w=document.querySelector(".form-js"),c=document.querySelector(".list-js"),u=document.querySelector(".loader"),n=document.querySelector(".js-load-btn");w.addEventListener("submit",P);n.addEventListener("click",$);let a=1,p=1,d;function P(t){t.preventDefault();const{picture:s}=t.target.elements;if(d=s.value.trim(),c.innerHTML="",!d||d===" "){m.show({title:":(",message:"Please add request!",position:"center",color:"red"}),c.innerHTML=":(";return}a=1,u.classList.remove("hidden"),n.classList.replace("more-btn","hidden"),f(d,a).then(({data:{hits:i,totalHits:r}})=>{p=Math.ceil(r/i.length),i.length?(c.innerHTML=h(i),g.refresh(),a>=p?n.classList.replace("more-btn","hidden"):n.classList.replace("hidden","more-btn")):(m.show({title:"X",message:"Sorry, there are no images matching your search query. Please try again!",position:"center",color:"red"}),c.innerHTML="<h1>Ooops... ðŸ‘»</h1>")}).catch(i=>{console.log(i.message),m.show({title:"X",message:`${i.message}`,position:"center",color:"red"})}).finally(()=>{s.value="",u.classList.add("hidden")})}async function $(){a+=1,n.disabled=!0;try{const{data:{hits:t,totalHits:s}}=await f(d,a);c.insertAdjacentHTML("beforeend",h(t)),p=Math.ceil(s/t.length),console.log(p),(a>=p||!s)&&(n.classList.replace("more-btn","hidden"),m.show({title:"X",message:"Sorry, there are no images matching your search query. Please try again!",position:"center",color:"red"}));const r=document.querySelector(".list-item").getBoundingClientRect().height;window.scrollBy({left:0,top:r*2,behavior:"smooth"}),g.refresh()}catch(t){console.log(t.message),m.show({title:"X",message:`${t.message}`,position:"center",color:"red"})}finally{n.disabled=!1}}
//# sourceMappingURL=index.js.map
